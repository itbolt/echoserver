<!DOCTYPE html>
<html>
<head>
    <title>Home Page</title>
</head>
<body>
    <h1>Welcome to Echo Server!</h1>
    <p>Type your message below:</p>
    <form action="/echo" method="POST">
        <input type="text" name="message" />
        <button type="submit">Submit</button>
    </form>
    {% if response %}
        <h2>Response:</h2>
        <p>{{ response }}</p>
    {% endif %}


    <p>Ask ChatGPT something:</p>
    <form action="/chat" method="POST">
        <input type="text" name="message" />
        <button type="submit">Submit</button>
    </form>
    {% if response %}
        <h2>Response:</h2>
        <p>{{ response }}</p>
    {% endif %}    

    <div>
        <button onclick="sendFeedback(true)">Like</button>
        <button onclick="sendFeedback(false)">Dislike</button>
    </div>
    
    <!-- Your existing JavaScript code -->
    <script>
        // ... (your existing JavaScript code)
    
        function sendFeedback(like) {
            const message = document.getElementById('message').value;
            const data = {
                message: message,
                like: like
            };
    
            // Send the feedback to the server using fetch API
            fetch('/chat', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            }).then(response => response.json())
            .then(data => {
                // Handle the response if needed
                console.log(data.response);
            }).catch(error => {
                // Handle error if any
                console.error('Error:', error);
            });
        }
    </script>
</body>
</html>