<!DOCTYPE html>
<html>
<head>
    <title>Home Page</title>
</head>
<body>
    <h1>Welcome to Echo Server!</h1>
    <p>Type your message below:</p>
    <form action="/echo" method="POST">
        <input type="text" name="message" />
        <button type="submit">Submit</button>
    </form>
    {% if response %}
        <h2>Response:</h2>
        <p>{{ response }}</p>
    {% endif %}


    <p>Ask ChatGPT something:</p>
    <form action="/chat" method="POST">
        <input type="text" name="message" />
        <button type="submit">Submit</button>
    </form>
    {% if response1 %}
        <h2>Response:</h2>
        <p>{{ response1 }}</p>
        <button id="likeButton">Like</button>
        <button id="dislikeButton">Dislike</button>
    {% endif %}    

    <script>
        function sendFeedback(reaction) {
            // Get the ChatGPT response from the page
            var response = document.getElementById("response").textContent;

            // Send the data to the Flask server using the Fetch API
            fetch("/feedback", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    "response": response,
                    "reaction": reaction
                })
            })
            .then(response => response.json())
            .then(data => {
                // Handle the response from the Flask server
                console.log("Feedback received:", data);
            })
            .catch(error => {
                console.error("Error:", error);
            });
        }
    </script>

</body>
</html>